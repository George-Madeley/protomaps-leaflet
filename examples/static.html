<html>
    <head>
    </head>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- TODO get rid of leaflet dependency in static mode -->
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
        <script src="../dist/protomaps.js"></script>
    </head>
    <body>
       <canvas id="map" width="1024" height="1024"></div> 
       <script>
        let canvas = document.getElementById("map")
        let context = canvas.getContext('2d')
        let map = new protomaps.Static({url:"tpe_sample.pmtiles"})
        map.draw(context,[25.0412,121.5177],16)
        canvas.addEventListener('click', () => {
            let base64URL = canvas.toDataURL("image/png")
            var win = window.open()
            win.document.write('<iframe src="' + base64URL + '" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>')
        })
       </script>
    </body>
</html>